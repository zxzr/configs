function GetCookie(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?unescape(b[2]):null}function SetCookie(a,b){var c=24,d=new Date;d.setTime(d.getTime()+1e3*60*60*7*c),document.cookie=a+"="+escape(b)+";expires="+d.toGMTString()+";path=/;"}function getQueryString(a){var b=new RegExp("(^|&)"+a+"=([^&]*)(&|$)","i"),c=window.location.search.substr(1).match(b);return null!=c?unescape(c[2]):null}function SetCookies(a,b){document.cookie=a+"="+escape(b)+";path=/;"}function getFormData(a){var c,d,e,f,g,h,b=a.serialize();for(b=decodeURI(b),c=b.split("&"),g={},h=0;h<c.length;h++)d=c[h].split("="),e=d[0],f=d[1],g[e]=f;return g}function postMess(a){window.frames[0].postMessage(a,"*")}function getVal(a){return localStorage[a]}function setVal(a,b){return localStorage[a]=b}window.onload=function(){document.title=getVal("title"),window.open(getVal("host")+"?url="+getVal("url")+"&title="+getVal("title")+"&from="+getVal("from")+"&uid="+getVal("uid"),getVal("winOpenName"))},window.addEventListener("message",function(a){var b=JSON.parse(a.data),c=new Object;if("inhand"==b.inhand)switch(b.control){case"onload":c.inhand="inhand",c.control="jujiLink",c.data=getVal("jujiLink_web"),postMess(JSON.stringify(c));break;case"gettitle":chrome.extension.sendRequest({type:"xhr",url:b.url},function(a){if("ok"==a.msg){var b=/<title>(.*?)<\/title>/.exec(a.data);c.inhand="inhand",c.control="jujiTitle",c.data=b[1],document.title=b[1],postMess(JSON.stringify(c))}})}},!1);