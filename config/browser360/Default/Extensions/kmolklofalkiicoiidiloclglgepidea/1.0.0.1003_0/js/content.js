!function(a){function b(a,c){"function"==typeof chrome.extension.sendMessage?b=function(a,b){chrome.extension.sendMessage(a,b)}:"function"==typeof chrome.extension.sendRequest&&(b=function(a,b){chrome.extension.sendRequest(a,b)}),b(a,c)}function c(b,c,d){var e=b.data,h="true"==e.showCoverDefault.toString();return h==g?void(f.style.opacity=e.coverOpacity):(g=h,void(g?a(f).animate({opacity:e.coverOpacity},1e3):(f.style.opacity=String(e.coverOpacity),a(f).animate({opacity:0},1e3))))}function d(){b({type:"getConfig"},function(b){function c(){var b=Math.max.apply(null,a.map(a("body > *"),function(b,c){return parseInt(a(b).css("z-index"))||1})),c=Math.max.apply(null,a.map(a("body > *"),function(b,c){return"relative"==a(b).css("position")?parseInt(a(b).css("z-index"))||1:void 0}));return b=b+c+2>=2147483647?b+c+2:2147483647}g="true"==b.showCoverDefault.toString(),a("#"+h).remove(),f=document.createElement("div"),f.id=h,f.setAttribute("style","width: 100%; height: 100%; position: fixed !important;left: 0 !important;bottom: 0 !important;-webkit-transition: -webkit-transform 10s ease-in-out;overflow: hidden !important;background: #000000 !important;pointer-events: none !important;"),f.style.zIndex=c(),f.style.opacity=g?b.coverOpacity:0,document.body.appendChild(f),e()})}function e(b){new MutationObserver(function(c){b&&clearTimeout(b),b=setTimeout(function(){0===a("#"+h).length&&d()},100)}).observe(document.body,{childList:!0})}var f=null,g=!0,h="__nightingale_view_cover";"complete"==document.readyState?d():window.addEventListener("DOMContentLoaded",function(){d()}),"undefined"!=typeof chrome.extension.onMessage&&chrome.extension.onMessage.addListener?chrome.extension.onMessage.addListener(c):"undefined"!=typeof chrome.extension.onRequest&&chrome.extension.onRequest.addListener&&chrome.extension.onRequest.addListener(c),window.addEventListener("keydown",function(a){if(a.altKey&&116==a.keyCode)b({type:"setConfig",data:{name:"showCoverDefault",value:!g}},function(a){});else if(a.altKey&&38==a.keyCode){if(!g||f.style.opacity<=.15)return;var c=Number(f.style.opacity);c=.15>=c-.1?.1:c-.1,b({type:"setConfig",data:{name:"coverOpacity",value:c}},function(a){})}else if(a.altKey&&40==a.keyCode){if(!g||f.style.opacity>=.95)return;var c=Number(f.style.opacity);c=.95>=c+.1?c+.1:.95,b({type:"setConfig",data:{name:"coverOpacity",value:c}},function(a){})}else if(a.altKey&&117==a.keyCode){if(!g)return;b({type:"setConfig",data:{name:"coverOpacity",value:.45}},function(a){})}},!0)}(jQuery.noConflict());